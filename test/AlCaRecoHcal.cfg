process P = {

  service = MessageLogger {
    untracked vstring destinations = { "cout" }
    untracked PSet cout    = {
      untracked string threshold = "INFO"
      untracked bool noLineBreaks = true
    }
  }

# include geometry and magnetic field
include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
include "Geometry/CaloEventSetup/data/CaloTopology.cfi"

include "Geometry/DTGeometry/data/dtGeometry.cfi"
include "Geometry/RPCGeometry/data/rpcGeometry.cfi"
include "Geometry/CSCGeometry/data/cscGeometry.cfi"
include "Geometry/CommonDetUnit/data/bareGlobalTrackingGeometry.cfi"
include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"

# add the SteppingHelixPropagator to the EventSetup
include "TrackPropagation/SteppingHelixPropagator/data/SteppingHelixPropagatorAny.cfi"
include "TrackPropagation/SteppingHelixPropagator/data/SteppingHelixPropagatorAlong.cfi"
include "TrackPropagation/SteppingHelixPropagator/data/SteppingHelixPropagatorOpposite.cfi"


# HCAL Calibration

# HCAL calibration with dijets
  include "Calibration/HcalAlCaRecoProducers/data/ALCARECOHcalCalDijets.cff"

# HCAL calibration with gamma+jet
  include "Calibration/HcalAlCaRecoProducers/data/ALCARECOHcalCalGammaJet.cff"

# HCAL calibration with isolated tracks
  include "Calibration/HcalAlCaRecoProducers/data/ALCARECOHcalCalIsoTrk.cff"

# HCAl calibration with min.bias
  include "Calibration/HcalAlCaRecoProducers/data/ALCARECOHcalCalMinBias.cff"
# HCAL Calibration

# HCAL calibration with dijets
  include "Calibration/HcalAlCaRecoProducers/data/ALCARECOHcalCalDijets_Output.cff"

# HCAL calibration with gamma + jet
  include "Calibration/HcalAlCaRecoProducers/data/ALCARECOHcalCalGammaJet_Output.cff"

# HCAL calibration with isolated tracks
  include "Calibration/HcalAlCaRecoProducers/data/ALCARECOHcalCalIsoTrk_Output.cff"

# HCAl calibration with min.bias
  include "Calibration/HcalAlCaRecoProducers/data/ALCARECOHcalCalMinBias_Output.cff"

  source = PoolSource { 
    untracked vstring fileNames = { 

#'/store/RelVal/2007/6/4/RelVal-RelVal150pre510MuonsPt10-1180941176/0000/0AD57B0D-9D12-DC11-8DB0-003048726E55.root'
#'/store/RelVal/2007/6/4/RelVal-RelVal150pre5QCD_pt50_80-1180948067/0000/128ED470-E812-DC11-AAB0-00304870D52F.root'
   'file:/tmp/kodolova/0C174F83-4933-DC11-9EF4-00304885B382.root'
    }
  }

  untracked PSet maxEvents = {untracked int32 input = 100}


# HCAL Calibration

# HCAL calibration with dijets
  module poolALCARECOHcalCalDijets = PoolOutputModule { 
    untracked string fileName = "file:ALCARECOHcalCalDijets.root"
    untracked string filterName = "ALCARECOHcalCalDijets"
    untracked PSet dataset = {
      untracked string dataTier = "ALCARECO"
    }
    using OutALCARECOHcalCalDijets
  }

# HCAL calibration with gamma+jet
  module poolALCARECOHcalCalGammaJet = PoolOutputModule { 
    untracked string fileName = "file:ALCARECOHcalCalGammaJet.root"
    untracked string filterName = "ALCARECOHcalCalGammaJet"
    untracked PSet dataset = {
      untracked string dataTier = "ALCARECO"
    }
    using OutALCARECOHcalCalGammaJet
  }

# HCAL calibration with isolated tracks
  module poolALCARECOHcalCalIsoTrk = PoolOutputModule { 
    untracked string fileName = "file:ALCARECOHcalCalIsoTrk.root"
    untracked string filterName = "ALCARECOHcalCalIsoTrk"
    untracked PSet dataset = {
      untracked string dataTier = "ALCARECO"
    }
    using OutALCARECOHcalCalIsoTrk
  }

# HCAL calibration with min.bias
  module poolALCARECOHcalCalMinBias = PoolOutputModule { 
    untracked string fileName = "file:ALCARECOHcalCalMinBias.root"
    untracked string filterName = "ALCARECOHcalCalMinBias"
    untracked string dataTier = "ALCARECO"
    using OutALCARECOHcalCalMinBias
  }


  path pathALCARECOHcalCalMinBias  = { seqALCARECOHcalCalMinBias }
  path pathALCARECOHcalCalDijets   = { seqALCARECOHcalCalDijets }
  path pathALCARECOHcalCalGammaJet = { seqALCARECOHcalCalGammaJet }
  path pathALCARECOHcalCalIsoTrk   = { seqALCARECOHcalCalIsoTrk }

  endpath e = {
   poolALCARECOHcalCalMinBias,
   poolALCARECOHcalCalDijets,
   poolALCARECOHcalCalGammaJet,  
   poolALCARECOHcalCalIsoTrk
  }
}

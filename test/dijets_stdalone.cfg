process DIJETS = {
#####include "Configuration/Examples/data/MessageLogger.cfi"
####  service = Timing {}
####  service = SimpleMemoryCheck {
####    untracked int32 ignoreTotal = 1 # default is one
####  } 

  source = PoolSource {
    untracked vstring fileNames = {
    
#    'file:/afs/cern.ch/user/m/michals/scratch0/myreco4c.root'}
#    '/store/unmerged/RelVal/2006/9/19/RelVal100Higgs-ZZ-4E/GEN-SIM-DIGI-RECO/0005/D8169C2C-0A48-DB11-B3B3-000E0C4D379C.root'

   'file:/tmp/kodolova/668A821F-F2DE-DB11-B343-0002B3E98DED.root'
   
 }
    untracked int32 maxEvents = 100
  }
  
include "Configuration/StandardSequences/data/Reconstruction.cff"
include "Configuration/StandardSequences/data/FakeConditions.cff"
include "Configuration/StandardSequences/data/Simulation.cff"
include "Configuration/StandardSequences/data/MixingNoPileUp.cff"
include "Configuration/StandardSequences/data/VtxSmearedGauss.cff"

# Remove zero suppression thresholds in ECAL

replace ecalDigis.srpBarrelLowInterestChannelZS = -1.e9
replace ecalDigis.srpEndcapLowInterestChannelZS = -1.e9

  module DiJProd = AlCaDiJetsProducer 
  {             
                untracked string inputTrackLabel = 'generalTracks'
                InputTag hbheInput = hbhereco
                InputTag hoInput = horeco
                InputTag hfInput = hfreco
                VInputTag srcCalo = {iterativeCone5CaloJets, midPointCone5CaloJets, midPointCone7CaloJets,ktCaloJets}
                VInputTag ecalInputs = {ecalRecHit:EcalRecHitsEB, ecalRecHit:EcalRecHitsEE }
  }

  module DiJRecos = PoolOutputModule {
    untracked string fileName = 'dijets.root'
    untracked vstring outputCommands =
    {
      "drop *",
      "keep *_DiJProd_*_*"
    }
  } 
  
##      "keep recoCaloJets_DiJProd_*_*",
##      "keep EcalRecHitsEB_DiJProd_*_*",
##      "keep EcalRecHitsEE_DiJProd_*_*",
##      "keep HBHERecHitsSorted_DiJProd_*_*",
##      "keep HORecHitsSorted_DiJProd_*_*",
##      "keep HFRecHitsSorted_DiJProd_*_*"

  path p = {DiJProd}
  endpath e = {DiJRecos}	
}

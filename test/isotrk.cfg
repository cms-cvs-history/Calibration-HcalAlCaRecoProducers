process ISO = {
include "Configuration/Examples/data/MessageLogger.cfi"
  service = Timing {}
  service = SimpleMemoryCheck {
    untracked int32 ignoreTotal = 1 # default is one
  } 

// Here we assume that input is already in reco format.

  source = PoolSource {
    untracked vstring fileNames = {
    'file:/afs/cern.ch/user/m/michals/scratch0/myreco4.root'}
    untracked int32 maxEvents = -1
  }

  module IsoProd = AlCaIsoTracksProducer {
    untracked string inputTrackLabel = 'ctfWithMaterialTracks'
}

  module IsoRecos = PoolOutputModule {
    untracked string fileName = '/afs/cern.ch/user/m/michals/scratch0/isotracks4.root'
    untracked vstring outputCommands =
    {
      "drop *",
      "keep recoTracks_IsoProd_*_*",
      "keep recoTrackExtras_IsoProd_*_*",
      "keep CaloTowersSorted_*_*_*"
//      "keep HBHERecHitsSorted_*_*_*",
//      "keep HORecHitsSorted_*_*_*"
    }
  } 

  path p = {IsoProd}
  endpath e = {IsoRecos}	
}
